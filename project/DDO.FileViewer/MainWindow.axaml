<UserControl
    x:Class="DDO.FileViewer.MainWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:DDO.FileViewer"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="DDO.FileViewer"
    Width="850"
    Height="580"
    MinWidth="849"
    MinHeight="579"
    MaxWidth="851"
    MaxHeight="581"
    d:DesignHeight="450"
    d:DesignWidth="800"
    x:CompileBindings="True"
    x:DataType="local:MainWindow"
    CanResize="False"
    ExtendClientAreaToDecorationsHint="True"
    FontFamily="{StaticResource DefaultFont}"
    TransparencyLevelHint="AcrylicBlur"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">

    <DockPanel>
        <Border
            Height="40"
            Background="#FF1A1A1A"
            DockPanel.Dock="Bottom">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <TextBlock
                    x:Name="Version"
                    Name="Version"
                    Margin="10,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Foreground="White"
                    Initialized="Version_Initialized"
                    Text="VERSION_PLACEHOLDER" />
                <TextBlock
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Foreground="White"
                    Text="© 2025 HK223" />
            </Grid>
        </Border>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" /> 
                <RowDefinition Height="Auto" /> 
                <RowDefinition Height="*" />    
            </Grid.RowDefinitions>
            <ExperimentalAcrylicBorder Grid.RowSpan="3" IsHitTestVisible="False">
                <ExperimentalAcrylicBorder.Material>
                    <ExperimentalAcrylicMaterial
                        BackgroundSource="Digger"
                        MaterialOpacity="0.65"
                        TintColor="Black"
                        TintOpacity="0.65" />
                </ExperimentalAcrylicBorder.Material>
            </ExperimentalAcrylicBorder>
            <TextBlock
                Name="TitleTextBlock"
                Grid.Row="0"
                Margin="16,42,8,0"
                FontSize="24"
                FontWeight="SemiBold"
                Initialized="Title_Initialized"
                Text="TITLE_PLACEHOLDER" />
            <Grid Grid.Row="1" Margin="16,4,16,4">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <TextBox Margin="0,4,4,4" Grid.Column="0" Text="{Binding FilterRegex, Mode=TwoWay}" />
                <Button Margin="0,4,0,4" Grid.Column="1" Click="Filter_Click" Content="Filter" />
            </Grid>
            <ScrollViewer
                Grid.Row="2"
                Margin="4,0,4,4"
                VerticalScrollBarVisibility="Auto">
                <ItemsControl ItemsSource="{Binding FilesList}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border
                                Margin="12,4,12,4"
                                Padding="4"
                                BorderBrush="Gray"
                                BorderThickness="1"
                                CornerRadius="5">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <ScrollViewer
                                        Grid.Column="0"
                                        HorizontalScrollBarVisibility="Auto"
                                        VerticalScrollBarVisibility="Hidden">
                                        <TextBlock
                                            Margin="0,0,10,0"
                                            VerticalAlignment="Center"
                                            Text="{Binding FileName}" />
                                    </ScrollViewer>
                                    <CheckBox
                                        Grid.Column="1"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        Checked="CheckBox_Checked"
                                        IsChecked="{Binding IsEnabled}"
                                        Unchecked="CheckBox_Unchecked" />
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Grid>

    </DockPanel>
</UserControl>
